# π“Β 6μ¥: λ°μ΄ν„° μ••μ¶•

λ””μ¤ν¬μ—μ„ μ €μ¥λ λ°μ΄ν„° νμΌμ ν¬κΈ°λ” μΏΌλ¦¬μ μ„±λ¥, λ°±μ—… λ° λ³µκµ¬ μ‹κ°„κ³Όλ„ μ§κ²° λ©λ‹λ‹¤.

<br>

**λ””μ¤ν¬ λ°μ΄ν„° νμΌμ΄ ν¬λ©΄**

β†’ μΏΌλ¦¬ μ²λ¦¬λ¥Ό μ„ν•΄ λ” λ§μ€ λ°μ΄ν„° νμ΄μ§€λ¥Ό InnoDB λ²„νΌ ν’€λ΅ μ½κ±°λ‚, λ”ν‹° νμ΄μ§€κ°€ λ” λ§μ΄ λ””μ¤ν¬μ— κΈ°λ΅λμ–΄μ•Ό ν•  μ μμ

β†’ λ°±μ—… μ‹κ°„λ„ μ¤λ κ±Έλ¦¬κ³ , λ³µκµ¬ν•λ”λ°λ„ κ·Έλ§νΌμ μ‹κ°„μ΄ κ±Έλ¦½λ‹λ‹¤.

μ„μ™€ κ°™μ€ λ¬Έμ λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ λ°μ΄ν„° μ••μ¶• κΈ°λ¥μ„ μ κ³µν•©λ‹λ‹¤. (νμ΄μ§€ μ••μ¶•, ν…μ΄λΈ” μ••μ¶•)

<br><br><br>

## β…Β 6.1 νμ΄μ§€ μ••μ¶•(Transparent Page Compression)

- MySQL μ„λ²„κ°€ λ””μ¤ν¬μ— μ €μ¥ν•λ” μ‹μ μ— λ°μ΄ν„° νμ΄μ§€κ°€ μ••μ¶•λμ–΄ μ €μ¥ν•¨
- MySQL μ„λ²„κ°€ λ””μ¤ν¬μ—μ„ λ°μ΄ν„° νμ΄μ§€λ¥Ό μ½μ–΄μ¬ λ• μ••μ¶•μ΄ ν•΄μ λμ–΄ μ μ¬λ¨

InnoDB μ¤ν† λ¦¬μ§€ μ—”μ§„μ€ μ••μ¶•μ΄ ν•΄μ λ μƒνƒλ΅λ§ λ°μ΄ν„° νμ΄μ§€λ¥Ό κ΄€λ¦¬ν•κ² λλ―€λ΅ μ„λ²„ λ‚΄λ¶€μ μ½”λ“λ” μ••μ¶•μ—¬λ¶€λ¥Ό μ‹ κ²½μ“°μ§€ μ•μ•„λ„ λ©λ‹λ‹¤.

νΉμ • μ©λ‰μ λ°μ΄ν„° νμ΄μ§€μ μ••μ¶• κ²°κ³Ό μ©λ‰μ΄ μ–Όλ§λ‚ λ μ§€ μμΈ΅ν•κΈ° μ–΄λ ¤μ°λ―€λ΅ μ΄λ¥Ό μ„ν•΄ μ΄μμ²΄μ λ³„ νΉμ • λ²„μ „μ νμΌ μ‹μ¤ν…μ—μ„λ§ μ μ©λλ” ν€μΉ ν™€ μ΄λΌλ” κΈ°λ¥μ„ μ‚¬μ©ν•©λ‹λ‹¤.

- 16KB μ••μ¶•κ²°κ³Όκ°€ 7KBλΌλ©΄ λ””μ¤ν¬μ— μ••μ¶•κ²°κ³Όλ¥Ό 7KBλ¥Ό μ €μ¥ν•μ§€λ§ 9KBμ λΉ κ³µκ°„λ„ κ°™μ΄ κΈ°λ΅ν•©λ‹λ‹¤.
- μ΄ν›„ λ””μ¤ν¬μ— λ°μ΄ν„°λ¥Ό κΈ°λ΅ν•κ³  9KB κ³µκ°„μ— λ€ν•΄ ν€μΉ ν™€μ„ μƒμ„±ν•©λ‹λ‹¤.
- κ²°κµ­ 9KB κ³µκ°„μ€ μ΄μμ²΄μ λ΅ λ°λ‚©λ©λ‹λ‹¤.

- **λ¬Έμ μ **
    
    ν€μΉ ν™€ κΈ°λ¥μ€ OS + HW λ¨λ‘ μ§€μ›ν•΄μ•Ό μ‚¬μ©κ°€λ¥ν• κΈ°λ¥μ…λ‹λ‹¤. ν•μ§€λ§ μ•„μ§ νμΌ μ‹μ¤ν… κ΄€λ ¨ λ…λ Ήμ–΄κ°€ ν€μΉν™€μ„ μ§€μ›ν•μ§€ λ»ν•κ³  μκ³ , κ·Έ μ™Έ μ—¬λ¬κ°€μ§€ μ΄μ λ΅ λ§μ΄ μ‚¬μ©λμ§€ μ•κ³  μμµλ‹λ‹¤.
    
    μ‚¬μ©ν•λ ¤λ©΄ ν…μ΄λΈ” μƒμ„±μ‹ COMPRESSION μµμ…μ„ μ„¤μ •ν•λ©΄ λ©λ‹λ‹¤.
    
<br><br><br>

## β…Β 6.2 ν…μ΄λΈ” μ••μ¶•

ν…μ΄λΈ” μ••μ¶•μ€ OS, HWμ μ•½μ—†μ΄ μ‚¬μ©ν•  μ μκΈ°μ— ν™μ©λ„κ°€ λ†’μµλ‹λ‹¤. λ‹¤λ§ λ‡κ°€μ§€ λ‹¨μ μ΄ μ΅΄μ¬ν•©λ‹λ‹¤.

- λ²„νΌ ν’€ κ³µκ°„ ν™μ©λ¥  λ‚®μ
- μΏΌλ¦¬ μ²λ¦¬ μ„±λ¥μ΄ λ‚®μ
- λΉλ²ν• λ°μ΄ν„° λ³€κ²½ μ‹ μ••μ¶•λ¥ μ΄ λ–¨μ–΄μ§

<br><br>

### 6.2.1 μ••μ¶• ν…μ΄λΈ” μƒμ„±

```sql
CREATE TABLE compressed_table (
	c1 INT PRIMARY KEY
)
ROW_FORMAT=COMPRESSED # μƒλµ κ°€λ¥
KEY_BLOCK_SIZE=8;
```

- ν…μ΄λΈ” μ••μ¶•μ„ μ„ν•΄μ„λ” ν…μ΄λΈ”μ΄ λ³„λ„μ ν…μ΄λΈ” μ¤νμ΄μ¤λ¥Ό μ‚¬μ©ν•΄μ•Ό ν•©λ‹λ‹¤.
`(innodb_file_per_table=ON ν•„μ”)`
- μ„ μµμ…μ„ ν‚¤λ©΄ `file-per-table ν…μ΄λΈ”μ¤νμ΄μ¤`λΌλ” κ³µκ°„μ— μ €μ¥λλ”λ° μ΄λ” ν•λ‚μ ν…μ΄λΈ”μ— λ€ν• λ°μ΄ν„°μ™€ μΈλ±μ¤λ¥Ό κ°λ³„μ μΈ νμΌλ΅ κ΄€λ¦¬ν•λ” ν…μ΄λΈ” μ¤νμ΄μ¤μ…λ‹λ‹¤.
- μ΄ν›„ ν…μ΄λΈ”μ„ μƒμ„±ν•  λ• ROW_FORMAT=COMPRESSED μµμ…μ„ λ…μ‹ν•΄ μ£Όμ–΄μ•Ό ν•©λ‹λ‹¤.
- μ¶”κ°€λ΅ KEY_BLOCK_SIZEμµμ…μ„ μ΄μ©ν•λ©΄ μ••μ¶•λ νμ΄μ§€μ νƒ€κΉƒ ν¬κΈ°λ¥Ό λ…μ‹ν•  μ μμµλ‹λ‹¤.
(ν•΄λ‹Ή μµμ…μ„ μ μ©ν•λ©΄ ROW_FORMAT μµμ… μƒλµ κ°€λ¥)
    - 2μ λ°°μλ΅λ§ μ„¤μ • κ°€λ¥
    - νμ΄μ§€ ν¬κΈ°κ°€ 16KBλΌλ©΄ 4KB, 8KBλ§ κ°€λ¥
    - νμ΄μ§€ ν¬κΈ°κ°€ 32KB, 64KBκ²½μ° ν…μ΄λΈ” μ••μ¶• μ μ© λ¶κ°€

![image](https://github.com/Invincible-Backend-Study/Real-MySQL/assets/66772624/b7382f64-754f-422f-8ff3-61e7f640f290)


https://cl8d.tistory.com/103

<br>

**λ°μ΄ν„° νμ΄μ§€λ¥Ό μ••μ¶•ν• μ©λ‰μ„ μμΈ΅ν•  μ μ—†λ”λ° KEY_BLOCK_SIZEλ¥Ό ν…μ΄λΈ”λ΅ μƒμ„±ν• λ• μ„¤μ •ν•  μ μλ” μμ‹**

1. 16KB λ°μ΄ν„° νμ΄μ§€ μ••μ¶•
    1. μ••μ¶• κ²°κ³Όκ°€ 8KB μ΄ν•λ©΄ κ·Έλ€λ΅ λ””μ¤ν¬μ— μ €μ¥(μ••μ¶• μ™„λ£)
    2. 8KBλ¥Ό μ΄κ³Όν•λ©΄ μ›λ³Έ νμ΄μ§€λ¥Ό splitν•΄ 2κ°μ νμ΄μ§€μ— 8KBμ”© μ €μ¥
2. λ‚λ‰ νμ΄μ§€ κ°κ°μ— 1λ² λ‹¨κ³„λ¥Ό λ‹¤μ‹ λ°λ³µμ μΌλ΅ μ‹¤ν–‰

<br><br>

### 6.2.2 KEY_BLOCK_SIZE κ²°μ •

λ©ν‘ ν¬κΈ° μ„¤μ •μ€ MySQL μ„λ²„μ μ²λ¦¬ μ„±λ¥μ„ μΆμ°ν•λ―€λ΅ μƒν” λ°μ΄ν„°λ¥Ό μ €μ¥ν•΄λ³΄κ³  μ μ ν•μ§€ νλ‹¨ν•λ”κ²ƒμ΄ μΆ‹μµλ‹λ‹¤. (μµμ† ν…μ΄λΈ”μ λ°μ΄ν„° νμ΄μ§€κ°€ 10κ° μ •λ„λ” μƒμ„±λλ„λ΅ ν…μ¤νΈ λ°μ΄ν„°λ¥Ό INSERTν•λ”κ²ƒμ΄ μΆ‹μ)

`μ‹¤μµμμ‹λ” 190~192page μ°Έμ΅°`

<br>

**μ••μ¶• μ‚¬μ©μ—¬λ¶€μ— λ€ν• νλ‹¨**

- INSERTλ§ λλ” λ΅κ·Έ ν…μ΄λΈ”μ κ²½μ° ν• λ² INSERTλλ©΄ λ‹¤μ‹ λ³€κ²½λμ§€ μ•μ β†’ ν• λ² μ •λ„λ” μ••μ¶• μ‹λ„κ°€ μ‹¤ν¨ν•΄μ„ μ¤ν”λ¦Ώ, μ¬μ••μ¶•μ„ ν•΄λ„ μ „μ²΄ λ°μ΄ν„° νμΌμ ν¬κΈ°κ°€ ν° ν­μΌλ΅ μ¤„μ–΄λ“¤ μ μμΌλ―€λ΅ μ΄λ“
- μ••μ¶• μ‹¤ν¨μ¨μ΄ λ†’μ§€ μ•μ§€λ§ ν…μ΄λΈ” λ°μ΄ν„°μ λΉλ²ν• μ΅°ν λ° μμ •μ΄ μλ‹¤λ©΄ β†’ μ••μ¶•μ€ κ³ λ ¤ν•μ§€ μ•λ”κ²ƒμ΄ μΆ‹μ
(zlib μ••μ¶•μ‹ λ§μ€ CPU μμ› μ†λ¨)

<br><br>

### 6.2.3 μ••μ¶•λ νμ΄μ§€μ λ²„νΌ ν’€ μ μ¬ λ° μ‚¬μ©

InnoDB μ¤ν† λ¦¬μ§€ μ—”μ§„μ€ μ••μ¶•λ ν…μ΄λΈ”μ λ°μ΄ν„° νμ΄μ§€λ¥Ό λ²„νΌ ν’€μ— μ μ¬ν•λ©΄ μ••μ¶•λ μƒνƒμ™€ μ••μ¶•μ΄ ν•΄μ λ μƒνƒ 2κ°μ λ²„μ „μ„ κ΄€λ¦¬ν•©λ‹λ‹¤.

- μ••μ¶•λ λ²„μ „(λ””μ¤ν¬μ—μ„ μ½μ€ μƒνƒ κ·Έλ€λ΅): LRU λ¦¬μ¤νΈ
- μ••μ¶• ν•΄μ  λ²„μ „: Unzip LRU λ¦¬μ¤νΈ

λ”°λΌμ„ μ••μ¶•λ ν…μ΄λΈ”μ— λ€ν•΄μ„λ” **λ²„νΌ ν’€μ κ³µκ°„μ„ μ΄μ¤‘μΌλ΅ μ‚¬μ©ν•¨μΌλ΅μ¨ λ©”λ¨λ¦¬λ¥Ό λ‚­λΉ„ν•λ” λ¶€μ‘μ©**μ„ κ°€μ§‘λ‹λ‹¤. λν• μ••μ¶• λ° ν•΄μ  μ‘μ—…μ CPU μ†λ¨κ°€ ν¬λ―€λ΅ μ΄λ¥Ό λ³΄μ™„ν•κΈ° μ„ν•΄ MySQL μ„λ²„λ΅ μ μ…λλ” μ”μ²­ ν¨ν„΄μ— λ”°λΌμ„ μ μ ν• μ²λ¦¬κ°€ ν•„μ”ν•©λ‹λ‹¤.

- InnoDB λ²„νΌ ν’€ κ³µκ°„ ν•„μ”ν•λ‹¤λ©΄ β†’ LRUλ¦¬μ¤νΈμ—μ„ μ›λ³Έ ν•νƒ μ μ§€, Unzip_LRU λ¦¬μ¤νΈ μ••μ¶• ν•΄μ  λ²„μ „ μ‚­μ 
- μ••μ¶•λ λ°μ΄ν„° νμ΄μ§€κ°€ μμ£Ό μ‚¬μ©λλ‹¤λ©΄ β†’ Unzip_LRU λ¦¬μ¤νΈμ— μ••μ¶• ν•΄μ λ νμ΄μ§€λ¥Ό κ³„μ† μ μ§€ν•λ©΄μ„ μ••μ¶• λ° μ••μ¶• ν•΄μ  μ‘μ—… μµμ†ν™”
- μ••μ¶•λ νμ΄μ§€κ°€ μ‚¬μ©λμ§€ μ•μ•„ LRU λ¦¬μ¤νΈμ—μ„ μ‚­μ  β†’ Unzip_LRU λ¦¬μ¤νΈμ—μ„λ„ μ‚­μ 

λν• μ¤ν† λ¦¬μ§€ μ—”μ§„μ€ λ²„νΌ ν’€μ—μ„ μ••μ¶• ν•΄μ  λ²„μ „ λ°μ΄ν„° νμ΄μ§€λ¥Ό μ μ ν• μμ¤€μΌλ΅ μ μ§€ν•κΈ° μ„ν•΄ μ–΄λ‘ν‹°λΈ μ•κ³ λ¦¬μ¦μ„ μ‚¬μ©ν•©λ‹λ‹¤.

- CPU μ‚¬μ©λ‰μ΄ λ†’μ€ μ„λ²„ β†’ μ••μ¶•, μ••μ¶• ν•΄μ λ¥Ό ν”Όν•κΈ° μ„ν•΄ Unzip_LRU μ‚¬μ© λΉ„μ¤‘ λ†’κ² μ μ§€
- Disk IO μ‚¬μ©λ‰μ΄ λ†’μ€ μ„λ²„ β†’ Unzip_LRU λ¦¬μ¤νΈ λΉ„μ¨μ„ λ‚®μ¶° InnoDB λ²„νΌ ν’€μ κ³µκ°„μ„ λ” ν™•λ³΄ν•λ„λ΅ ν•¨

<br><br>

### 6.2.4 ν…μ΄λΈ” μ••μ¶• κ΄€λ ¨ μ„¤μ •

`193~194page μ°Έμ΅°`

<br><br><br><br>

# π“Β 7μ¥ λ°μ΄ν„° μ•”νΈν™”

MySQL 8.0λ¶€ν„°λ” λ°μ΄ν„° νμΌκ³Ό λ¦¬λ‘ λ΅κ·Έ, μ–Έλ‘ λ΅κ·Έ, λ³µμ λ¥Ό μ„ν• λ°”μ΄λ„λ¦¬ λ΅κ·Έ λ“± λ¨λ‘ μ•”νΈν™” κΈ°λ¥μ„ μ§€μ›ν•©λ‹λ‹¤.

λν• DB μμ¤€μ—μ„μ μ•”νΈν™”λ” ν…μ΄λΈ” λ‹¨μ„μ μ•”νΈν™”λ¥Ό λ§ν•©λ‹λ‹¤.

<br><br><br>

## β…Β 7.1 MySQL μ„λ²„μ λ°μ΄ν„° μ•”νΈν™”

![image](https://github.com/Invincible-Backend-Study/Real-MySQL/assets/66772624/213f2d0a-28b8-43bf-9c1c-3a5717e43ff7)


[https://velog.io/@code-10/λ°μ΄ν„°-μ•”νΈν™”](https://velog.io/@code-10/%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%95%94%ED%98%B8%ED%99%94)

MySQL μ„λ²„μ μ•”νΈν™” κΈ°λ¥μ€ DB μ„λ²„μ™€ λ””μ¤ν¬ μ‚¬μ΄μ—μ„ λ°μ΄ν„°λ¥Ό μ½κ³  μ“°λ” μ§€μ μ—μ„μ μ•”νΈν™” λ° λ³µνΈν™”λ¥Ό λ§ν•©λ‹λ‹¤.

κ·Έ μ™Έμ λ¶€λ¶„μ—μ„λ” μ•”νΈν™” μ²λ¦¬κ°€ μ „ν€ ν•„μ”ν•μ§€ μ•μµλ‹λ‹¤. λ”°λΌμ„ λ°μ΄ν„° μ•”νΈν™” κΈ°λ¥μ΄ ν™μ„±ν™” λμ–΄ μλ”λΌλ„ MySQL λ‚΄λ¶€μ™€ μ‚¬μ©μ μ…μ¥μ—μ„λ” μ•„λ¬΄λ° μ°¨μ΄κ°€ μ—†μµλ‹λ‹¤.

μ΄λ¬ν• μ•”νΈν™” λ°©μ‹μ„ `TDE(Transparent Data Encryption)` νΉμ€ Data at Rest EncryptionλΌκ³  ν•©λ‹λ‹¤.

<br><br>

### 7.1.1 2λ‹¨κ³„ ν‚¤ κ΄€λ¦¬

MySQL μ„λ²„μ TDE ν•¨νΈν™”λ” ν‚¤λ§(keyRing) ν”λ¬κ·ΈμΈμ— μν•΄ κ΄€λ¦¬λλ©° MySQL 8.0λ²„μ „μ—μ„ μ§€μ›λλ” ν‚¤λ§ ν”λ¬κ·ΈμΈμ€ λ‹¤μ–‘ν•μ§€λ§ μ»¤λ®¤λ‹ν‹° μ—λ””μ…μ—μ„  keyring_fileλ§ μ‚¬μ©κ°€λ¥ν•©λ‹λ‹¤.

- keyring_file File-Based ν”λ¬κ·ΈμΈ
- keyring_encrypted_file Keyring ν”λ¬κ·ΈμΈ
- keyring_okv KMIP ν”λ¬κ·ΈμΈ
- keyring_aws Amazone Web Services Keyring ν”λ¬κ·ΈμΈ

κ° ν‚¤λ§ ν”λ¬κ·ΈμΈλ“¤μ€ λ§μ¤ν„° ν‚¤λ¥Ό κ΄€λ¦¬ν•λ” λ°©μ‹λ§ λ‹¤λ¥ΌλΏ MySQL μ„λ²„ λ‚΄λ¶€μ μΌλ΅ λ™μ‘ν•λ” λ°©μ‹μ€ λ™μΌν•©λ‹λ‹¤.

![image](https://github.com/Invincible-Backend-Study/Real-MySQL/assets/66772624/78c2921b-b560-488d-9c98-64ffe6b864c0)


1. `λ§μ¤ν„° ν‚¤`, `ν…μ΄λΈ”μ¤νμ΄μ¤ ν‚¤(ν”„λΌμ΄λΉ—ν‚¤)` λ‘ κ°€μ§€ μΆ…λ¥μ ν‚¤λ¥Ό κ°€μ§€κ³  MySQL μ„λ²„μ λ°μ΄ν„°λ¥Ό μ•”νΈν™” ν•©λ‹λ‹¤.
2. MySQL μ„λ²„λ” HashiCorpμ™€ κ°™μ€ μ™Έλ¶€ ν‚¤ κ΄€λ¦¬ μ†”λ£¨μ…(Key Management Service) λλ” λ””μ¤ν¬μ νμΌμ—μ„ λ§μ¤ν„°ν‚¤λ¥Ό κ°€μ Έμµλ‹λ‹¤.
3. μ•”νΈν™”λ ν…μ΄λΈ”μ΄ μƒμ„±λ  λ• λ§λ‹¤ ν•΄λ‹Ή ν…μ΄λΈ”μ„ μ„ν• μ„μμ `ν…μ΄λΈ”μ¤νμ΄μ¤ ν‚¤`λ¥Ό λ°κΈ‰ν•©λ‹λ‹¤.
4. MySQL μ„λ²„λ” λ§μ¤ν„° ν‚¤λ¥Ό μ΄μ©ν•΄ ν…μ΄λΈ”μ¤νμ΄μ¤ν‚¤λ¥Ό μ•”νΈν™”ν•΄ κ° ν…μ΄λΈ”μ λ°μ΄ν„° νμΌ ν—¤λ”μ— μ €μ¥ν•©λ‹λ‹¤.
5. ν…μ΄λΈ”μ¤νμ΄μ¤ ν‚¤λ” μ λ€ MySQL μ„λ²„ μ™Έλ¶€λ΅ λ…Έμ¶λμ§€ μ•μΌλ―€λ΅ μ£ΌκΈ°μ μΌλ΅ λ³€κ²½ν•μ§€ μ•μ•„λ„ λ©λ‹λ‹¤. λν• ν…μ΄λΈ”μ΄ μ‚­μ λμ§€ μ•λ” μ΄μƒ λ³€κ²½λμ§€ μ•μµλ‹λ‹¤.
6. λ§μ¤ν„° ν‚¤λ” μ™Έλ¶€μ νμΌμ„ μ΄μ”ν•κΈ°μ— λ…Έμ¶λ  κ°€λ¥μ„±μ΄ μμµλ‹λ‹¤. λ”°λΌμ„ μ£ΌκΈ°μ μΈ λ³€κ²½μ΄ ν•„μ”ν•©λ‹λ‹¤.
(λ§μ¤ν„° ν‚¤ λ³€κ²½: `ALTER INSTANCE ROTATE INNODB MASTER KEY;`)

<br>

**λ§μ¤ν„° ν‚¤ λ³€κ²½μ‹**

β†’ MySQL μ„λ²„λ” κΈ°μ΅΄μ λ§μ¤ν„° ν‚¤λ¥Ό μ΄μ©ν•΄ ν…μ΄λΈ”μ¤νμ΄μ¤ ν‚¤λ¥Ό λ³µνΈν™” ν•κ³  μƒλ΅μ΄ λ§μ¤ν„° ν‚¤λ΅ μ•”νΈν™”ν•¨

<br>

**2λ‹¨κ³„ μ•”νΈν™” λ°©μ‹μ μ¥μ **

β†’ μ•”νΈν™” ν‚¤ λ³€κ²½μΌλ΅ μΈν• κ³Όλ„ν• μ‹μ¤ν… λ¶€ν•λ¥Ό ν”Όν•¨: ν…μ΄λΈ”μ¤νμ΄μ¤ ν‚¤λ¥Ό λ³€κ²½ν•λ”κ²ƒμ€ λ¨λ“  λ°μ΄ν„°μ λ³µνΈν™” λ° μ¬ μ•”νΈν™”κ°€ ν•„μ”ν•λ° 2λ‹¨κ³„ μ•”νΈν™” λ°©μ‹μ„ ν†µν•΄ μ΄λ¥Ό ν”Όν•  μ μλ‹¤.

MySQL μ„λ²„μ TDEμ—μ„ μ§€μ›λλ” μ•”νΈν™” μ•κ³ λ¦¬μ¦

β†’ `ν…μ΄λΈ”μ¤νμ΄μ¤ ν‚¤: AES-256 ECB(Electronic CodeBook)`, `λ°μ΄ν„° νμΌ: AES-256 CBC(Cipher Block Chaning)` μ•κ³ λ¦¬μ¦ μ΄μ©ν•΄ μ•”νΈν™”

<br><br>

### 7.1.2 μ•”νΈν™”μ™€ μ„±λ¥

- `λ²„νΌ ν’€μ— μ΅΄μ¬ν•μ§€ μ•λ” λ°μ΄ν„°λ¥Ό μ½μ„λ•` β†’ I/O + λ³µνΈν™” κ³Όμ •μΌλ΅ μΈν•΄ λ” λ§μ€ μΏΌλ¦¬ μ§€μ—° μ‹κ°„ λ°μƒ
- `μ•”νΈν™”λ ν…μ΄λΈ”μ΄ λ³€κ²½λλ‹¤λ©΄` β†’ λ””μ¤ν¬λ΅ λ™κΈ°ν™”μ‹ μ¬ μ•”νΈν™” ν•΄μ•Ό ν•λ―€λ΅ μ¶”κ°€μ‹κ°„μ΄ κ±Έλ¦Ό
β†’ λ‹¤λ§ λ°μ΄ν„° νμ΄μ§€ μ €μ¥μ€ μ‚¬μ©μμ μΏΌλ¦¬ μ²λ¦¬ μ¤λ λ“κ°€ μ•„λ‹λΌ λ°±κ·ΈλΌμ΄λ“ μ¤λ λ“μ—μ„ μν–‰λλ―€λ΅ μ‚¬μ©μ μΏΌλ¦¬κ°€ μ§€μ—°λμ§€λ” μ•μµλ‹λ‹¤.
- `SELECTλΏλ§ μ•„λ‹λΌ UPDATE, DELETE` β†’ λ³€κ²½ν•κ³ μ ν•λ” λ μ½”λ“λ¥Ό μ½μ–΄μ„ λ²„νΌ ν’€μ— μ €μ¥ν•΄μ•Ό ν•λ―€λ΅ μ½λ” νμ΄μ§€μ μμ— λ”°λΌ λ³µνΈν™” μ§€μ—° λ°μƒ

<br>

**AES μ•”νΈν™” μ•κ³ λ¦¬μ¦**

- μ•”νΈν™” λ°μ΄ν„° κΈΈμ΄κ°€ μ§§λ‹¤λ©΄ μ•”νΈν™”λ κ²°κ³Ό μ©λ‰μ΄ λ” μ»¤μ§ μ μμ§€λ§,  λ°μ΄ν„° νμ΄μ§€λ” λ³΄ν†µ ν•¨νΈν™” ν‚¤λ³΄λ‹¤ ν›¨μ”¬ ν¬λ―€λ΅μ•”νΈν™” κ²°κ³Όκ°€ ν‰λ¬Έμ κ²°κ³Όμ™€ λ™μΌν• ν¬κΈ°μ μ•”νΈλ¬Έμ„ λ°ν™ν•©λ‹λ‹¤.
- TDE μ μ© λ°μ΄ν„° νμΌμ ν¬κΈ°κ°€ μ μ©λμ§€ μ•μ€ ν…μ΄λΈ”κ³Ό λ™μΌν• ν¬κΈ°λ¥Ό κ°€μ§€λ―€λ΅ μ•”νΈν™”λ΅ μΈν•΄ InnoDB λ²„νΌ ν’€μ ν¨μ¨, λ©”λ¨λ¦¬ μ‚¬μ© ν¨μ¨μ΄ λ–¨μ–΄μ§€λ” ν„μƒμ€ μ—†μµλ‹λ‹¤.

<br>

**μ•”νΈν™”μ™€ μ••μ¶•μ΄ λ™μ‹μ— μΌμ–΄λ‚λ©΄ μ••μ¶• β†’ μ•”νΈν™”λ΅ μ§„ν–‰**

- μ•”νΈν™”λ κ²°κ³Όλ¬Όμ€ λλ¤ν• λ°”μ΄νΈμ λ°°μ—΄μ„ κ°€μ§€κ² λ¨ β†’ μ••μ¶•λ¥ μ„ λ–¨μ–΄νΈλ¦Ό
- μ••μ¶• λ°μ΄ν„°λ” μ••μ¶•ν• λ°μ΄ν„° νμ΄μ§€μ™€, μ••μ¶•μ΄ ν’€λ¦° λ°μ΄ν„° νμ΄μ§€ λ¦¬μ¤νΈλ¥Ό κ°–λ”λ° μ•”νΈν™”λ¥Ό λ¨Όμ €ν•λ©΄ λ²„νΌν’€μ λ¨λ“  λ°μ΄ν„° νμ΄μ§€μ— λ€ν•΄μ„ λ§¤λ² μ•”λ³µνΈν™” μ‘μ—…μ„ ν•΄μ•Ό ν•¨

200page μμ‹λ¥Ό λ³΄λ©΄ μ•”νΈν™”λ ν…μ΄λΈ”μ€ μ½κΈ°κ°€ 3~5λ°° μ •λ„ λλ¦¬κ³ , μ“°κΈ°μ κ²½μ° 5~6λ°° μ •λ„ λλ¦°κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤.

<br><br>

### 7.1.3 μ•”νΈν™”μ™€ λ³µμ 

- μ†μ¤ μ„λ²„μ™€ λ ν”λ¦¬μΉ΄ μ„λ²„λ” κ°μμ λ§μ¤ν„° ν‚¤ λ° ν…μ΄λΈ”μ¤νμ΄μ¤ ν‚¤λ¥Ό κ΄€λ¦¬ν•κΈ° λ•λ¬Έμ— λ°μ΄ν„° νμΌμ΄ λ™μΌν•λ‹¤ ν•λ”λΌλ„ μ•”νΈν™”λ λ°μ΄ν„° νμΌ λ‚΄μ©μ€ μ„λ΅ λ‹¤λ¦…λ‹λ‹¤.
- λ§μ¤ν„° ν‚¤ λ΅ν…μ΄μ… μ‹¤ν–‰μ„ ν•λ©΄ λ ν”λ¦¬μΉ΄ μ„λ²„λ΅ λ…λ Ήμ΄ λ³µμ λμ§€λ§ κ°κ° λ‹¤λ¥Έ λ§μ¤ν„° ν‚¤λ¥Ό μƒλ΅ λ°κΈ‰ λ°›μµλ‹λ‹¤.

<br><br><br>

## β…Β 7.2 keyring_file ν”λ¬κ·ΈμΈ μ„¤μΉ

keyring_file ν”λ¬κ·ΈμΈμ€ λ§μ¤ν„° ν‚¤λ¥Ό λ””μ¤ν¬μ νμΌλ΅ κ΄€λ¦¬ν•λ”λ° ν‰λ¬ΈμΌλ΅ μ €μ¥λ©λ‹λ‹¤. λ”°λΌμ„ λ…Έμ¶μ— μƒλ‹Ήν μ„ν—ν•©λ‹λ‹¤. 
(Percona Serverλ” HashiCorp Vaultλ¥Ό μ—°λ™ν•λ” ν‚¤ κ΄€λ¦¬ ν”λ¬κ·Έλ¦°μ„ μ¤ν”μ†μ¤λ΅ μ κ³µν•λ―€λ΅ κ³ λ ¤ν•΄λ΄λ„ μΆ‹μ)

- TDE ν”λ¬κ·ΈμΈμ κ²½μ° MySQL μ„λ²„κ°€ μ‹μ‘λλ” λ‹¨κ³„μ—μ„λ„ κ°€μ¥ λΉ¨λ¦¬ μ΄κΈ°ν™” λμ–΄μ•Ό ν•©λ‹λ‹¤. (λ³„λ„μ μ„¤μ • ν•„μ”)
- λν• λ§μ¤ν„° ν‚¤μ μ„¤μ • κ²½λ΅λ” μ¤μ§ ν•λ‚μ MySQL μ„λ²„λ§ μ°Έμ΅°ν•΄μ•Ό ν•©λ‹λ‹¤.

`μμ„Έν• μ„¤μ • λ° μ‹¤μµμ€ 202page μ°Έμ΅°`

<br><br><br>

## β…Β 7.3 ν…μ΄λΈ” μ•”νΈν™”

μ–΄λ–¤ ν‚¤λ§ ν”λ¬κ·ΈμΈμ„ μ‚¬μ©ν•΄λ„ λ§μ¤ν„° ν‚¤ μƒμ„± λ° κ΄€λ¦¬ λ¶€λ¶„λ§ λ‹΄λ‹Ήν•λ―€λ΅ μ•”νΈν™”λ ν…μ΄λΈ” μƒμ„± λ° ν™μ©μ€ λ¨λ‘ λ™μΌν•©λ‹λ‹¤.

<br><br>

### 7.3.1 ν…μ΄λΈ” μƒμ„±

TDE μ‚¬μ© ν…μ΄λΈ”μ€ λ‹¤μκ³Ό κ°™μ΄ μƒμ„±ν•©λ‹λ‹¤.

```sql
CREATE TALBE tab_encrypted (
	id INT,
	data VARCHAR(100),
	PRIMARY KEY(id)
) ENCRYPTION='Y'; # ν•΄λ‹Ή μµμ… ν•λ‚λ§ μ¶”κ°€ν•΄μ£Όλ©΄ λ¨

# μ•”νΈν™”λ ν…μ΄λΈ”λ§ κ²€μƒ‰
SELECT table_schema, table_name, create_options 
FROM information_schema.tables
WHERE table_name='tab_encrypted';
```

MySQL μ„λ²„μ λ¨λ“  ν…μ΄λΈ”μ— λ€ν•΄ μ•”νΈν™” μ μ©μ„ μ„ν•΄μ„  `default_table_encryption μ‹μ¤ν… λ³€μλ¥Ό ON`ν•λ©΄ λ©λ‹λ‹¤.

<br><br>

### 7.3.2 μ‘μ© ν”„λ΅κ·Έλ¨ μ•”νΈν™”μ™€μ λΉ„κµ

μ‘μ© ν”„λ΅κ·Έλ¨μ—μ„μ μ•”νΈν™”λ¥Ό μ§„ν–‰ν•λ©΄ νΉμ • κ°’μ€ μ΅°νν•  μ μμ§€λ§, μ •λ ¬ νΉμ€ λ²”μ„ μ΅°ν μΏΌλ¦¬μ™€ κ°™μ€ κ²½μ°λ” μ‚¬μ©ν•  μ μ—†μµλ‹λ‹¤.

TDEμ κ²½μ° MySQL μ„λ²„ λ‚΄μ—μ„λ” λ³µνΈν™”λ λ°μ΄ν„°λ¥Ό μ‚¬μ©ν•λ―€λ΅ λ¬Έμ κ°€ μ—†κΈ°μ— TDE λ°©μ‹μ„ λ” κ¶μ¥ν•λ‹¤κ³  ν•©λ‹λ‹¤.

β†’ κ°μΈμ μΌλ΅λ” ν¨μ¤μ›λ“μ™€ κ°™μ΄ μ •λ ¬, λ²”μ„ μ΅°κ±΄μ„ μ‚¬μ©ν•  μΌμ΄ κ±°μ μ—†λ” μ»¬λΌμ κ²½μ°λ” μ‘μ©ν”„λ΅κ·Έλ¨μ—μ„ μ•”νΈν™” ν•΄μ£Όλ”κ²ƒλ„ κ΄μ°®λ‹¤κ³  μƒκ°λ©λ‹λ‹¤.

<br><br>

### 7.3.3 ν…μ΄λΈ”μ¤νμ΄μ¤ μ΄λ™

TDEκ°€ μ μ©λ μ•”νΈν™” ν…μ΄λΈ”μ€ μ›λ³Έ MySQL μ„λ²„μ™€ λ©μ μ§€ MySQLμ„λ²„μ λ§μ¤ν„° ν‚¤κ°€ λ‹¤λ¥΄κ² λ©λ‹λ‹¤. λ”°λΌμ„ λ‹¤μκ³Ό κ°™μ΄ ν…μ΄λΈ”μ¤νμ΄μ¤λ¥Ό Export ν•λ‹¤λ©΄

```sql
FLUSH TABLES source_table FOR EXPORT;
```

MySQL μ„λ²„λ” μ„μ‹λ΅ μ‚¬μ©ν•  λ§μ¤ν„° ν‚¤λ¥Ό λ°κΈ‰ν•΄ source_table.cfpλΌλ” νμΌλ΅ κΈ°λ΅ν•©λ‹λ‹¤. λν• κΈ°μ΅΄ λ§μ¤ν„°ν‚¤λ΅ λ³µνΈν™” ν•κ³  μ„μ‹ λ§μ¤ν„°ν‚¤λ΅ μ¬ μ•”νΈν™”ν•μ—¬ λ©μ μ§€ MySQL μ„λ²„μ—μ„ μ‚¬μ©ν•  μ μλ„λ΅ ν•©λ‹λ‹¤.

<br><br><br>

## β…Β 7.4 μ–Έλ‘ λ΅κ·Έ λ° λ¦¬λ‘ λ΅κ·Έ μ•”νΈν™”

<br>

**μ΄μ „μ—λ” λ¦¬λ‘, μ–Έλ‘ λ°”μ΄λ„λ¦¬ λ΅κ·Έκ°€ ν‰λ¬ΈμΌλ΅ μ €μ¥λλ μ΄μ **

- ν…μ΄λΈ” μ•”νΈν™”λ” λ””μ¤ν¬λ΅ μ €μ¥λλ” λ°μ΄ν„°λ§ μ•”νΈν™”ν•¨ λ”°λΌμ„ MySQL μ„λ²„μ λ©”λ¨λ¦¬μ— μ΅΄μ¬ν•λ” λ°μ΄ν„°λ” λ³µνΈν™”λ ν‰λ¬ΈμΌλ΅ κ΄€λ¦¬
- λ¦¬λ‘, μ–Έλ‘ λ΅κ·Έλ” ν…μ΄λΈ”μ λ°μ΄ν„° νμΌ μ΄μ™Έμ λ””μ¤ν¬ νμΌλ΅ κΈ°λ΅λλ―€λ΅ ν‰λ¬ΈμΌλ΅ μ €μ¥λ¨

MySQL 8.0λ¶€ν„°λ” `innodb_undo_log_encrypt` μ‹μ¤ν… λ³€μμ™€ `innodb_redo_log_encrypt` μ‹μ¤ν… λ³€μλ¥Ό λ¦¬λ‘ λ΅κ·Έμ™€ μ–Έλ‘ λ΅κ·Έλ¥Ό μ•”νΈν™”λ μƒνƒλ΅ μ €μ¥ν•  μ μκ² κ°μ„ λμµλ‹λ‹¤.

<br>

**λ¦¬λ‘, μ–Έλ‘ λ΅κ·Έ μ•”νΈν™” λ°©μ‹**

- MySQL μ„λ²„λ” λ¦¬λ‘, μ–Έλ‘ λ΅κ·Έλ¥Ό ν‰λ¬ΈμΌλ΅ μ €μ¥ν•λ‹¤κ°€ μ•”νΈν™”κ°€ ν™μ„±ν™” λλ” μ‹μ λ¶€ν„° μ—„νΈν™”ν•΄ μ €μ¥ν•¨
- λ°λ€λ΅ μ•”νΈν™”λ¥Ό λΉ„ν™μ„±ν™”ν•΄λ„ λΉ„ν™μ„±ν™” ν•λ” μ‹μ λ¶€ν„° ν‰λ¬ΈμΌλ΅ μ €μ¥ν•¨
- **λ”°λΌμ„ μ•”νΈν™”λ¥Ό λΉ„ν™μ„±ν™”ν•΄λ„ κ·Έ μ¦‰μ‹ μ•”νΈν™”μ— μ‚¬μ©λ ν‚¤κ°€ λ¶ν•„μ”ν•΄μ§€λ”κ²ƒμ΄ μ•„λ‹™λ‹λ‹¤.**
- λ¦¬λ‘, μ–Έλ‘ λ΅κ·Έμ—μ„ μ‚¬μ©λλ” ν…μ΄λΈ”μ¤νμ΄μ¤ ν‚¤λ” μ‹¤μ  ν…μ΄λΈ” μ•”νΈν™”μ—μ„ μ‚¬μ©λλ” ν‚¤κ°€ μ•„λ‹λΌ λ¦¬λ‘, μ–Έλ‘ λ΅κ·Έλ¥Ό μ„ν• ν”„λΌμ΄λΉ— ν‚¤λ¥Ό μλ―Έν•©λ‹λ‹¤.
    - λ΅κ·Έλ¥Ό μ„ν• κ°κ°μ ν”„λΌμ΄λΉ— ν‚¤λ” λ§μ¤ν„° ν‚¤λ΅ μ•”νΈν™”λμ–΄ λ΅κ·Έ νμΌ ν—¤λ”μ— μ €μ¥λ¨

<br><br><br>

## β…Β 7.5 λ°”μ΄λ„λ¦¬ λ΅κ·Έ μ•”νΈν™”

μ–Έλ‘, λ¦¬λ‘ λ΅κ·Έλ” κΈΈμ§€ μ•μ€ μ‹κ°„ λ²”μ„μ λ°μ΄ν„°λ§ κ°€μ§€λ―€λ΅ λ³΄μ•μ— ν¬κ² λ―Όκ°ν•μ§€ μ•μ„ μ μμµλ‹λ‹¤.

λ‹¤λ§ λ°”μ΄λ„λ¦¬ λ΅κ·Έλ” μλ„μ μΌλ΅ μƒλ‹Ήν κΈ΄ μ‹κ°„ λ™μ• λ³΄κ΄€ν•λ” μ„λΉ„μ¤λ‚ μ¦λ¶„ λ°±μ—…μ„ μ„ν•΄ λ³΄κ΄€ν•κΈ°λ„ ν•©λ‹λ‹¤. λ”°λΌμ„ λ°”μ΄λ„λ¦¬ λ΅κ·Έ νμΌμ μ•”νΈν™”λ” μƒν™©μ— λ”°λΌ μ¤‘μ”λ„κ°€ λ†’μ•„μ§ μ μμµλ‹λ‹¤.

β†’ `λ°”μ΄λ„λ¦¬, λ¦΄λ μ΄ λ΅κ·Έ νμΌ μ•”νΈν™” κΈ°λ¥μ€ λ””μ¤ν¬μ— μ €μ¥λ λ΅κ·Έ νμΌμ— λ€ν• μ•”νΈν™”λ§ λ‹΄λ‹Ήν•©λ‹λ‹¤.` λ”°λΌμ„ MySQL μ„λ²„ λ‚΄λ¶€ λ©”λ¨λ¦¬ νΉμ€ μ†μ¤, λ ν”λ¦¬μΉ΄ μ„λ²„κ°„ λ„¤νΈμ›ν¬ κµ¬κ°„μ—μ„μ μ•”νΈν™”λ¥Ό ν•΄μ£Όμ§„ μ•μµλ‹λ‹¤.

<br><br>

### 7.5.1 λ°”μ΄λ„λ¦¬ λ΅κ·Έ μ•”νΈν™” ν‚¤ κ΄€λ¦¬

λ°”μ΄λ„λ¦¬, λ¦΄λ μ΄ λ΅κ·Έ λ°μ΄ν„°λ” `νμΌ ν‚¤`λ΅ μ•”νΈν™”ν•΄ λ””μ¤ν¬λ΅ μ €μ¥ν•κ³ , `νμΌ ν‚¤`λ” `λ°”μ΄λ„λ¦¬ λ΅κ·Έ μ•”νΈν™” ν‚¤`λ΅ μ•”νΈν™”ν•΄ κ° λ°”μ΄λ„λ¦¬ λ΅κ·Έμ™€ λ¦΄λ μ΄ λ΅κ·Έ νμΌμ ν—¤λ”μ— μ €μ¥ν•©λ‹λ‹¤.

- `νμΌ ν‚¤`: λ°”μ΄λ„λ¦¬ λ΅κ·Έμ™€ λ¦΄λ μ΄ λ΅κ·Έ νμΌ λ‹¨μ„λ΅ μλ™μΌλ΅ μƒμ„±λμ–΄ ν•΄λ‹Ή λ΅κ·Έ νμΌμ λ°μ΄ν„° μ•”νΈν™”μ—λ§ μ‚¬μ©λ¨
- `λ°”μ΄λ„λ¦¬ λ΅κ·Έ μ•”νΈν™” ν‚¤`: ν…μ΄λΈ” μ•”νΈν™”μ‹ λ§μ¤ν„° ν‚¤μ™€ λ™μΌν• μ—­ν• 

<br><br>

### 7.5.2 λ°”μ΄λ„λ¦¬ λ΅κ·Έ μ•”νΈν™” ν‚¤ λ³€κ²½

λ‹¤μκ³Ό κ°™μ΄ λ΅ν…μ΄μ… ν•  μ μμµλ‹λ‹¤.

```sql
ALTER INSTANCE ROTATE BINLOG MASTER KEY;
```

λ°”μ΄λ„λ¦¬ λ΅κ·Έ μ•”νΈν™” ν‚¤μ λ³€κ²½μ€ λ‹¤μ κ³Όμ •μ„ κ±°μΉ©λ‹λ‹¤.

1. μ¦κ°€λ μ‹ν€€μ¤ λ²νΈμ™€ ν•¨κ» μƒλ΅μ΄ λ°”μ΄λ„λ¦¬ λ΅κ·Έ μ•”νΈν™” ν‚¤ λ°κΈ‰ ν›„ ν‚¤λ§ νμΌμ— μ €μ¥
2. λ°”μ΄λ„λ¦¬, λ¦΄λ μ΄ λ΅κ·Έ νμΌμ„ μƒλ΅μ΄ λ΅κ·Έ νμΌλ΅ κµμ²΄
3. μƒλ΅ μƒμ„±λλ” λ°”μ΄λ„λ¦¬, λ¦΄λ μ΄ λ΅κ·Έ νμΌμ μ•”νΈν™”λ¥Ό μ„ν• νμΌ ν‚¤ μƒμ„±ν•κ³ , νμΌ ν‚¤λ” λ°”μ΄λ„λ¦¬ λ΅κ·Έ μ•”νΈν™” ν‚¤λ΅ μ•”νΈν™”ν•΄ μƒλ΅μ΄ λ΅κ·Έ νμΌμ— μ €μ¥ν•¨
4. κΈ°μ΅΄ λ°”μ΄λ„λ¦¬ λ΅κ·Έμ™€ λ¦΄λ μ΄ λ΅κ·Έ νμΌμ νμΌ ν‚¤λ¥Ό μ½μ–΄μ„ μƒλ΅μ΄ λ°”μ΄λ„λ¦¬ λ΅κ·Έ νμΌ ν‚¤λ΅ μ•”νΈν™”ν•΄ λ‹¤μ‹ μ €μ¥
5. λ¨λ“  λ°”μ΄λ„λ¦¬ λ΅κ·Έμ™€ λ¦΄λ μ΄ λ΅κ·Έ νμΌμ΄ μƒλ΅μ΄ λ°”μ΄λ„λ¦¬ λ΅κ·Έ μ•”νΈν™” ν‚¤λ΅ μ „λ¶€ μ•”νΈν™” λλ‹¤λ©΄ `κΈ°μ΅΄ λ°”μ΄λ„λ¦¬ λ΅κ·Έ μ•”νΈν™” ν‚¤`λ¥Ό ν‚¤λ§ νμΌμ—μ„ μ κ±°

4λ² κ³Όμ •μ€ λ¨λ“  λ΅κ·Έμ— λ€ν•΄μ„ μν–‰ν•λ―€λ΅ μ‹κ°„μ΄ κ±Έλ¦¬λ” μ‘μ—…μ…λ‹λ‹¤. μ΄λ¥Ό μ„ν•΄ ν‚¤λ§ νμΌμ—μ„ `λ°”μ΄λ„λ¦¬ λ΅κ·Έ μ•”νΈν™” ν‚¤`λ” λ‚΄λ¶€μ μΌλ΅ λ²„μ „(μ‹ν€€μ¤ λ²νΈ) κ΄€λ¦¬κ°€ μ΄λ¤„μ§‘λ‹λ‹¤.

β†’ μµκ·Ό λ²νΈ μμ„λ€λ΅ νμΌ ν‚¤λ¥Ό λ‹¤μ‹ μ•”νΈν™”ν•΄ μ €μ¥ν•λ” μ‘μ—…μ„ μν–‰ν•  μ μμ

<br><br>

### 7.5.3 mysqlbinlog λ„κµ¬ ν™μ©

MySQL μ„λ²„μ—μ„  νΈλμ­μ… λ‚΄μ©μ„ μ¶”μ ν•κ±°λ‚, λ°±μ—… λ³µκµ¬λ¥Ό μ„ν•΄ μ•”νΈν™”λ λ°”μ΄λ„λ¦¬ λ΅κ·Έλ¥Ό ν‰λ¬ΈμΌλ΅ λ³µνΈν™” ν•  μΌμ΄ μμ£Ό λ°μƒν•©λ‹λ‹¤.

λ‹¤λ§ `MySQL μ„λ²„λ§ λ°”μ΄λ„λ¦¬ λ΅κ·Έ μ•”νΈν™” ν‚¤λ¥Ό κ°–κ² λλ―€λ΅` mysqlbinlog λ„κµ¬λ¥Ό ν™μ©ν•΄ μ•”νΈν™”λ λ°”μ΄λ„λ¦¬ λ΅κ·Έ νμΌμ λ‚΄μ©μ„ ν™•μΈν•  μ μλ” λ°©λ²•μ΄ μ—†μµλ‹λ‹¤.

λ”°λΌμ„ MySQL μ„λ²„λ¥Ό ν†µν•΄ κ°€μ Έμ¤λ” λ°©λ²•μ΄ μ μΌν•©λ‹λ‹¤.

```bash
linux> mysqlbinlog --read-from-remote-server -uroot -p -vvv mysql-bin.000011
Enter password:
```

β†’ μ„μ™€κ°™μ΄ mysqlbinlog λ„κµ¬κ°€ MySQL μ„λ²„μ— μ ‘μ†ν•΄μ„ λ°”μ΄λ„λ¦¬ λ΅κ·Έλ¥Ό κ°€μ Έμ¬ μ μμµλ‹λ‹¤.
(MySQL μ„λ²„κ°€ mysql-bin.000011 μ΄λ¦„μ λ΅κ·Έ νμΌμ„ κ°€μ Έμ¤λ„λ΅ μ”μ²­ν•©λ‹λ‹¤.)
